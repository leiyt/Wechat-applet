<!--pages/publish/publish.wxml-->
<view class="container publish">
  <view class='title'>发布行程</view>
  <view class='items'>
    <form bindsubmit="formSubmit" bindreset="formReset">    
      <view class="section flex_box">
        <view class="section__title">您的称呼：</view>
        <input name="input" placeholder="请输入您的称呼" />
      </view>
      <view class="section flex_box">
        <view class="section__title">您的电话：</view>
        <input name="input" placeholder="请输入您的电话" />
      </view>
      <view class="section">
        <view class='flex_box'>
          <view class="section__title">选择出发地点：</view>
          <button type='primary' size='mini' plain='true' bindtap='getLocation' id='start'>选择出发地点</button>
        </view>        
        <text>{{ startPosition.name }}</text>
      </view>
      <view class="section">
        <view class='flex_box'>
          <view class="section__title">选择到达地点：</view>
          <button type='primary' size='mini' plain='true' bindtap='getLocation' id='end'>选择到达地点</button>
        </view>          
        <text>{{ endPosition.name }}</text>
      </view>
      <view class="section">
        <view class='flex_box'>
          <view class="section__title">添加途经地点：</view>
          <button type='primary' size='mini' plain='true' bindtap='getLocation' id='pass'>添加途经地点</button>
        </view>          
        <text wx:for="{{passPosition}}" wx:key="index">途经{{index+1}}：{{ item.name }}</text>
      </view>

      <view class="btn-area">
        <button form-type="submit" type='primary' plain='true'>发布</button>
        <!-- <button form-type="reset">Reset</button> -->
      </view>
    </form>
  </view>
  
  <!-- <view class='btn_box'>    
    <button type='primary' size='mini' plain='true' bindtap='getLocation' id='start'>选择出发地点</button>
    <button type='primary' size='mini' plain='true' bindtap='getLocation' id='pass'>添加途经地点</button>
    <button type='primary' size='mini' plain='true' bindtap='getLocation' id='end'>选择到达地点</button>    
  </view> -->

  <view class='map_box'>
    <map id="mymap" longitude="{{currlongitude}}" latitude="{{currlatitude}}" bindcontroltap="controltap" markers="{{markers}}" bindmarkertap="markertap" scale="14" bindregionchange="regionchange" show-location style="width: 100%; height: 300px;" ></map>
  </view>
</view>
